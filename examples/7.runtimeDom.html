<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="app"></div>
  <script src="../packages/runtime-dom/dist/runtime-dom.global.js"></script>
  <script>
    let { createApp, h, reactive } = vueRuntimeDom;
    let App = {
      setup(props, context) {
        let state = reactive({age: 10, name: "张三", flag: false})

        const fn = () => {
          state.flag = !state.flag;
        }
        return {
          state,
          fn
        }
      },
      render(proxy) {
        // console.log(this, proxy, 100)
        if(!proxy.state.flag) {
          return h('div', {style: {color: 'red'}, onClick: proxy.fn}, [
          h('p', {key: 'a'},'a'),
            h('p', {key: 'b'},'b'),
            h('p', {key: 'c'},'c'),
            h('p', {key: 'd'},'d'),
            h('p', {key: 'e'},'e'),
            h('p', {key: 'q'},'q'),
            h('p', {key: 'f'},'f'),
            h('p', {key: 'g'},'g'),
          ]);
        } else {
          return h('div', {style: {color: 'blue'}, onClick: proxy.fn}, [
            h('p', {key: 'a'},'a'),
            h('p', {key: 'b'},'b'),
            h('p', {key: 'e'},'e'),
            h('p', {key: 'c'},'c'),
            h('p', {key: 'd'},'d'),
            h('p', {key: 'h'},'h'),
            h('p', {key: 'f'},'f'),
            h('p', {key: 'g'},'g'),
          ]);
        }
      }
    }
    createApp(App,{name:"张三",age:10}).mount("#app");
  </script>
</body>
</html>